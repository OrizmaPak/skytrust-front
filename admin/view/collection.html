<section class="animate__animated animate__fadeIn relative">
  <p class="page-title">
    <span>collection</span>
  </p>
  

  <!-- here is the tab navigation -->
  <ul
    class="cark:border-gray-700 cark:text-gray-400 flex flex-wrap border-b border-gray-200 text-center text-sm font-medium text-gray-500"
  >
    <!--<li id="rccview" class="cp viewer me-2" onclick="did('cancelreservationform').classList.add('hidden');this.children[0].classList.add('active', '!text-blue-600');did('lostandfoundview').classList.remove('hidden');this.nextElementSibling.children[0].classList.remove('active', '!text-blue-600');">-->
   
    <li
      id=""
      class="cp updater optioner active me-2 !text-blue-600"
      name="collectionform"
      onclick="runoptioner(this)"
    >
      <p
        class="inline-block rounded-t-lg p-4 capitalize hover:bg-gray-50 hover:text-gray-600"
      >
        Take collection
      </p>
    </li>
    <li
    class="cp viewer optioner me-2"
    name="viewcollection"
    onclick="runoptioner(this)"
  >
    <p
      class="inline-block rounded-t-lg p-4 capitalize hover:bg-gray-50 hover:text-gray-600"
    >
      collections (per day)
    </p>
  </li>
  <li
  class="cp viewer optioner me-2"
  name="viewmonthlycollection"
  onclick="runoptioner(this)"
  >
  <p
    class="inline-block rounded-t-lg p-4 capitalize hover:bg-gray-50 hover:text-gray-600"
  >
    collections (per month)
  </p>
  </li>
  <li
  class="cp viewer optioner me-2"
  name="viewyearlycollection"
  onclick="runoptioner(this)"
  >
  <p
    class="inline-block rounded-t-lg p-4 capitalize hover:bg-gray-50 hover:text-gray-600"
  >
    collections (per year)
  </p>
  </li>
</ul>

  <form id="collectionform" class="">
    <div class="flex flex-col space-y-3 rounded-sm bg-white/90 p-5 xl:p-10">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <div class="form-group">
          <label for="collection" class="control-label">branch</label>
          <select name="branch" id="branch" class="form-controls comp">
            <option value="">-- Select branch --</option>
          </select>
        </div>
          <div class="form-group">
            <label for="country" class="control-label">Marketer</label>
            <select
              name="userid"
              id="userid"
              class="form-controls comp"
            >
              <option value="">Select Staff</option>
              <!-- Options will be populated dynamically -->
            </select>
          </div>
      </div>
      </div>
    </div>
    <div class="table-content">
      <!--<p class="text-md font-semibold">Balance Brought Forward(B/F): <span id="bbf"></span></p>-->
      <table class="table-auto">
        <thead>
          <tr>
            <th></th>
            <th>account number</th>
            <th>account name</th>
            <th>account type</th>
            <th>payment method</th>
            <th>Credit</th>
            <th>action</th>
          </tr>
        </thead>
        <tbody id="tabledata2">
          <tr id="row-1" class="accrow">
            <td class="text-center relative opacity-70">
              <div class="relative">
                <input type="text" style="width: 160px;" id="accountnumber-1" placeholder="Enter account number" class="form-control" onkeydown="if(event.key === 'Enter'){event.preventDefault();getaccounttype(this)}" />
                <button type="button" onclick="getaccounttype(this.previousElementSibling)" class="btn-small absolute right-2 scale-[1.5] top-0 mt-2 ml-2 hover:scale-[1.7] hover:content-['üîç'] active:animate-bounce">üîç</button>
              </div>
            </td>
            <td class="text-center">
              <label class="hidden" for="accountnumb-1">Account Number</label>
              <p class="text-center text-md compulsory accountnumber" style="width: 130px;" id="accountnumb-1">-</p>
            </td>
            <td class="text-center">
              <label class="hidden" for="accountname-1">Account Name</label>
              <p class="text-center text-md compulsory accountname" style="width: 130px;" id="accountname-1">-</p>
            </td>
            <td class="text-center">
              <label class="hidden" for="accounttype-1">Account Type</label>
              <p class="text-center text-md compulsory accounttype" style="width: 130px;" id="accounttype-1">-</p>
            </td>
            <td class="text-center opacity-70">
              <select class="form-control comp" style="width: 150px;" id="tfrom-1" name="tfrom">
                <!-- <option value="">Payment Method</option> -->
                <option value="CASH">CASH</option>
              </select>
            </td>
            <td class="text-center opacity-70">
              <label class="hidden">Credit Amount</label>
              <input type="text" placeholder="Enter credit amount " style="width: 130px;" id="credit-1" class="form-control credit comp comma" />
            </td>
            <td class="flex items-center gap-3" >
              <button title="Add row entry" onclick="addcollectionrow(event)" class="material-symbols-outlined rounded-full bg-green-600 h-8 w-8 text-white drop-shadow-md text-xs" style="font-size: 18px;"><div class="btnloader" style="display: none;"></div>add</button>
          </td>
          </tr>
        </tbody>
      </table>
      <div class="flex justify-end mt-5">
        <button id="submit" type="button" class="btn">
            <div class="btnloader" style="display: none;"></div>
            <span>Submit</span>
        </button>
    </div>
    </div>
  </form>

  <div class="hidden" id="viewcollection">
    <form id="viewcollectionform" class="">
      <div class="flex flex-col space-y-3 bg-blue-100 p-5 xl:p-10 rounded-sm">
          <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
              <div class="form-group col-span-3">
                  <label for="queryUser" class="control-label">Date</label>
                  <input type="date" name="transactiondate" id="transactiondate" class="form-control comp bg-white" placeholder="Search by anything">
              </div>
              <div class="flex justify-end mt-5">
                  <button id="querySubmit" type="button" class="btn">
                      <div class="btnloader" style="display: none;"></div>
                      <span>Load Collections</span>
                  </button>
              </div>
          </div>
      </div>
  </form>

  <div class="summary-card bg-white shadow-md rounded-lg p-6 mb-6">
    <div class="summary-header mb-3">
      <h2 class="text-xl font-semibold text-gray-800 flex gap-6">Summary </h2> 
      <p class="text-xs text-purple-500 italic">If you have excess, please inform your manager to resolve the issue.</p>
        <p class="text-xs text-red-500 italic">Note: Penalty is charged for incomplete remittance every 2 days.</p>
        
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
            <h3 class="text-sm font-medium text-gray-600 mb-1">Total Collected</h3>
            <p class="text-sm"><span class="text-green-500 italic" id="numbercollections">0</span> Collected</p>
            <p class="text-green-500 text-2xl font-semibold" id="totalCollected">0.00</p>
        </div>
        <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
            <h3 class="text-sm font-medium text-gray-600 mb-1">Total Remitted</h3>
            <p class="text-blue-500 text-2xl font-semibold" id="totalPaid">0.00</p>
        </div>
        <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
            <h3 class="text-sm font-medium text-gray-600 mb-1">Total Penalty</h3>
            <p class="text-red-500 text-2xl font-semibold" id="totalPenalty">0.00</p>
        </div>
        <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
            <h3 class="text-sm font-medium text-gray-600 mb-1">Total Remaining to be Remitted</h3>
            <p class="text-yellow-500 text-2xl font-semibold" id="totalRemaining">0.00</p>
        </div>
        <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
            <h3 class="text-sm font-medium text-gray-600 mb-1">Excess</h3>
            <p class="text-purple-500 text-2xl font-semibold" id="excess">0.00</p>
        </div>
        <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
            <h3 class="text-sm font-medium text-gray-600 mb-1">Deposit Code</h3>
            <p class="text-gray-700 text-2xl font-semibold cursor-pointer" id="depositCode" onclick="copyToClipboard(this)">N/A</p>
            <script>
                function copyToClipboard(element) {
                    const text = element.innerText;
                    navigator.clipboard.writeText(text).then(() => {
                        Notification('Copied to clipboard: ' + text);
                    }).catch(err => {
                        console.error('Failed to copy: ', err);
                    });
                }
            </script>
        </div>
    </div>
  </div>

  <!--<p class="text-md font-semibold">Balance Brought Forward(B/F): <span id="bbf"></span></p>-->
    <div class="table-content">
      <table class="table-auto">
        <thead>
          <tr>
            <th style="width: 10px">s/n</th>
            <th>Account Number</th>
            <th>Account name</th>
            <th>Account type</th>
            <th>Payment method</th>
            <th>Credit</th>
            <!-- <th>Debit</th> -->
          </tr>
        </thead>
        <tbody id="tabledata">
          <tr>
            <td colspan="100%" class="text-center opacity-70">
              Table is empty
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="table-status"></div>
  </div>
  
  <div class="hidden" id="viewmonthlycollection">
    <form id="viewmonthlycollectionform" class="">
      <div class="flex flex-col space-y-3 bg-blue-100 p-5 xl:p-10 rounded-sm">
          <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
              <div class="form-group col-span-3">
                  <label for="transactionYearMonth" class="control-label">Year and Month</label>
                  <input type="month" name="date" id="transactionYearMonth" class="form-control comp bg-white">
              </div>
              <div class="flex justify-end mt-5">
                  <button id="querySubmit2" type="button" class="btn">
                      <div class="btnloader" style="display: none;"></div>
                      <span>Load Collections</span>
                  </button>
              </div>
          </div>
      </div>
  </form>

  <div class="summary-card bg-white shadow-md rounded-lg p-6 mb-6">
    <div class="summary-header mb-3">
        <h2 class="text-xl font-semibold text-gray-800 flex gap-6">Summary</h2>
        <p class="text-xs text-purple-500 italic">If you have excess, please inform your manager to resolve the issue.</p>
        <p class="text-xs text-red-500 italic">Note: Penalty is charged for incomplete remittance every 2 days.</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
            <h3 class="text-sm font-medium text-gray-600 mb-1">Total Collected</h3>
            <p class="text-sm"><span class="text-green-500 italic" id="numbercollections2">0</span> Collected</p>
            <p class="text-green-500 text-2xl font-semibold" id="totalCollected2">0.00</p>
        </div>
        <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
            <h3 class="text-sm font-medium text-gray-600 mb-1">Total Remitted</h3>
            <p class="text-blue-500 text-2xl font-semibold" id="totalPaid2">0.00</p>
        </div>
        <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
            <h3 class="text-sm font-medium text-gray-600 mb-1">Total Penalty</h3>
            <p class="text-red-500 text-2xl font-semibold" id="totalPenalty2">0.00</p>
        </div>
        <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
            <h3 class="text-sm font-medium text-gray-600 mb-1">Total Remaining to be Remitted</h3>
            <p class="text-yellow-500 text-2xl font-semibold" id="totalRemaining2">0.00</p>
        </div>
        <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
            <h3 class="text-sm font-medium text-gray-600 mb-1">Excess</h3>
            <p class="text-purple-500 text-2xl font-semibold" id="excess2">0.00</p>
        </div>
    </div>
  </div>

  <!--<p class="text-md font-semibold">Balance Brought Forward(B/F): <span id="bbf"></span></p>-->
    <div class="table-content">
      <table class="table-auto">
        <thead>
          <tr>
            <th>day</th>
            <th>No of collections</th>
            <th>amount collected</th>
            <th>Remitted</th>
            <th>penalty</th>
            <th>Excess</th>
            <th>to balance</th>
          </tr>
        </thead>
        <tbody id="tabledata3">
          <tr>
            <td colspan="100%" class="text-center opacity-70">
              Table is empty
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="table-status"></div>
  </div>

  <div class="hidden" id="viewyearlycollection">
    <form id="viewyearlycollectionform" class="">
      <div class="flex flex-col space-y-3 bg-blue-100 p-5 xl:p-10 rounded-sm">
          <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
              <div class="form-group col-span-3">
                  <label for="transactionYearyear" class="control-label">Year</label>
                  <select name="date" id="transactionYear" class="form-control comp bg-white">
                      <option value="">Select Year</option>
                      <option value="2022">2022</option>
                      <option value="2023">2023</option>
                      <option value="2024">2024</option>
                      <option value="2025">2025</option>
                      <option value="2026">2026</option>
                      <option value="2027">2027</option>
                      <option value="2028">2028</option>
                      <option value="2029">2029</option>
                      <option value="2030">2030</option>
                      <option value="2031">2031</option>
                      <option value="2032">2032</option>
                      <option value="2033">2033</option>
                      <option value="2034">2034</option>
                      <option value="2035">2035</option>
                  </select>
              </div>
              <div class="flex justify-end mt-5">
                  <button id="querySubmit3" type="button" class="btn">
                      <div class="btnloader" style="display: none;"></div>
                      <span>Load Collections</span>
                  </button>
              </div>
          </div>
      </div>
    </form>

    <div class="summary-card bg-white shadow-md rounded-lg p-6 mb-6">
      <div class="summary-header mb-3">
          <h2 class="text-xl font-semibold text-gray-800 flex gap-6">Summary</h2>
          <p class="text-xs text-purple-500 italic">If you have excess, please inform your manager to resolve the issue.</p>
          <p class="text-xs text-red-500 italic">Note: Penalty is charged for incomplete remittance every 2 days.</p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
              <h3 class="text-sm font-medium text-gray-600 mb-1">Total Collected</h3>
              <p class="text-sm"><span class="text-green-500 italic" id="numbercollections3">0</span> Collected</p>
              <p class="text-green-500 text-2xl font-semibold" id="totalCollected3">0.00</p>
          </div>
          <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
              <h3 class="text-sm font-medium text-gray-600 mb-1">Total Remitted</h3>
              <p class="text-blue-500 text-2xl font-semibold" id="totalPaid3">0.00</p>
          </div>
          <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
              <h3 class="text-sm font-medium text-gray-600 mb-1">Total Penalty</h3>
              <p class="text-red-500 text-2xl font-semibold" id="totalPenalty3">0.00</p>
          </div>
          <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
              <h3 class="text-sm font-medium text-gray-600 mb-1">Total Remaining to be Remitted</h3>
              <p class="text-yellow-500 text-2xl font-semibold" id="totalRemaining3">0.00</p>
          </div>
          <div class="summary-item bg-gray-50 p-3 rounded-md shadow-sm">
              <h3 class="text-sm font-medium text-gray-600 mb-1">Excess</h3>
              <p class="text-purple-500 text-2xl font-semibold" id="excess3">0.00</p>
          </div>
      </div>
    </div>

    <!--<p class="text-md font-semibold">Balance Brought Forward(B/F): <span id="bbf"></span></p>-->
    <div class="table-content">
      <table class="table-auto">
        <thead>
          <tr>
            <th>month</th>
            <th>No of collections</th>
            <th>amount collected</th>
            <th>Remitted</th>
            <th>penalty</th>
            <th>Excess</th>
            <th>to balance</th>
          </tr>
        </thead>
        <tbody id="tabledata4">
          <tr>
            <td colspan="100%" class="text-center opacity-70">
              Table is empty
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="table-status"></div>
  </div>
</section>

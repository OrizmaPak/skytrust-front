
<section class="animate__animated animate__fadeIn relative">
    <p class="page-title">
        <span>taskmanagement</span>
    </p>
    <!-- here is the tab navigation -->
    <ul class="flex text-sm font-medium text-center text-gray-500 border-b border-gray-200 cark:border-gray-700 cark:text-gray-400">
        <!--<li id="rccview" class="me-2 cp viewer" onclick="did('cancelreservationform').classList.add('hidden');this.children[0].classList.add('active', '!text-blue-600');did('lostandfoundview').classList.remove('hidden');this.nextElementSibling.children[0].classList.remove('active', '!text-blue-600');">-->
        <li  class="me-2 cp viewer optioner !text-blue-600 active" name="viewtaskmanagement" onclick="runoptioner(this)">
            <p class="inline-block p-4 rounded-t-lg hover:text-gray-600 hover:bg-gray-50 capitalize">View task management</p>
        </li> 
        <li id="" class="me-2 cp updater  optioner" name="taskmanagementform" onclick="runoptioner(this)">
            <p class="inline-block p-4 rounded-t-lg hover:text-gray-600 hover:bg-gray-50 capitalize ">Manage task management</p>
        </li>
    </ul>

    <form id="taskmanagementform" class="hidden">
        <div class="flex flex-col space-y-3 bg-white/90 p-5 xl:p-10 rounded-sm">
            <div class="form-group">
                <label for="title" class="control-label">Title</label>
                <input type="text" name="title" id="title" class="form-control comp" placeholder="Enter Title">
            </div>
            <div class="form-group">
                <label for="description" class="control-label">Description</label>
                <textarea name="description" id="description" class="form-control comp" placeholder="Enter Description"></textarea>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="form-group">
                    <label for="priority" class="control-label">Priority</label>
                    <select id="priority" name="priority" class="form-controls comp">
                        <option value="URGENT" data-color="#ff0000" data-bg="rgba(255, 0, 0, 0.2)">URGENT</option>
                        <option value="HIGH" data-color="#ff4d4d" data-bg="rgba(255, 77, 77, 0.2)">HIGH</option>
                        <option value="MEDIUM" data-color="#ffa500" data-bg="rgba(255, 165, 0, 0.2)">MEDIUM</option>
                        <option value="LOW" data-color="#28a745" data-bg="rgba(40, 167, 69, 0.2)">LOW</option>
                      </select>
                </div>
                <div class="form-group">
                    <label for="branch" class="control-label">Branch</label>
                    <select name="branch" id="branch" class="form-controls comp">
                        <option value="">-- Select Branch --</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label for="assignedto" class="control-label">Assigned To</label>
                <select name="assignedto" id="assignedto" class="comp" multiple></select>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="form-group">
                    <label for="startdate" class="control-label">Start Date</label>
                    <input type="date" name="startdate" id="startdate" class="form-control comp">
                </div>
                <div class="form-group">
                    <label for="enddate" class="control-label">End Date</label>
                    <input type="date" name="enddate" id="enddate" class="form-control comp">
                </div>
            </div>
            
            <div class="flex justify-end mt-5">
                <button id="submit" type="button" class="btn">
                    <div class="btnloader" style="display: none;"></div>
                    <span>Submit</span>
                </button>
            </div>
        </div>
    </form>
    
     <div class="" id="viewtaskmanagement">
        <form id="taskfilterForm" class="flex flex-col space-y-3 !bg-blue-100 p-5 xl:p-10 rounded-sm">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="form-group">
                    <label for="branchFilter" class="control-label">Filter by Branch</label>
                    <select id="branchFilter" name="branch" class="form-controls">
                        <option value="">-- Select Branch --</option>
                        <!-- Options will be dynamically populated -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="statusFilter" class="control-label">Filter by Status</label>
                    <select id="statusFilter" name="taskstatus" class="form-control bg-white">
                        <option value="">-- Select Status --</option>
                        <option value="NOT STARTED">Not Started</option>
                        <option value="IN PROGRESS">In Progress</option>
                        <option value="PENDING">Pending</option>
                        <option value="COMPLETED">Completed</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="priorityFilter" class="control-label">Filter by Priority</label>
                    <select id="priorityFilter" name="priority" class="form-control bg-white">
                        <option value="">-- Select Priority --</option>
                        <option value="URGENT">URGENT</option>
                        <option value="HIGH">HIGH</option>
                        <option value="MEDIUM">MEDIUM</option>
                        <option value="LOW">LOW</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="startdateFilter" class="control-label">Filter by Start Date</label>
                    <input type="date" id="startdateFilter" name="startdate" class="form-control bg-white">
                </div>
                <div class="form-group">
                    <label for="enddateFilter" class="control-label">Filter by End Date</label>
                    <input type="date" id="enddateFilter" name="enddate" class="form-control bg-white">
                </div>
                <div class="flex justify-end mt-3">
                    <button type="submit" id="submit" class="btn">
                        <span>Apply Filters</span>
                    </button>
                </div>
            </div>
        </form>

        <div class="table-content overflow-auto min-w-[500px]">
            <table class="table-auto">
            <!--<p class="text-md font-semibold">Balance Brought Forward(B/F): <span id="bbf"></span></p>-->
                <thead>
                    <tr>
                        <th style="width:10px">s/n</th>
                        <th>title</th>
                        <th>description</th>
                        <th>priority</th>
                        <th>assigned to</th>
                        <th>start date</th>
                        <th>end date</th>
                        <th>branch</th>
                        <th style="width:100px">status</th>
                        <th>action</th>
                    </tr>
                </thead>
                <tbody id="tabledata">
                   <tr>
                        <td colspan="100%" class="text-center opacity-70"> Table is empty</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="table-status"></div>
    </div>
    <style>/* TomSelect Control */
        .tomselect .ts-control {
            border: 1px solid #e5e7eb; /* Light gray border */
            border-radius: 8px;        /* Rounded corners */
            min-height: 3rem;          /* Taller height for a modern look */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow */
        }
        
        .ts-dropdown.single, .ts-wrapper.single .ts-control{
            border: none !important
        }
        /* Dropdown Options */
        .tomselect .ts-dropdown .option {
            transition: all 0.3s ease; /* Smooth hover effect */
            cursor: pointer;
        }
        
        /* Hover Effect on Options */
        .tomselect .ts-dropdown .option:hover {
            transform: translateY(-2px); /* Lift slightly */
            opacity: 0.9;
        }
        
        /* Selected Item */
        .tomselect .ts-control .item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            font-weight: bold;
            color: #fff; /* Text color */
        }
        
        /* Icons */
        .tomselect .ts-control .item i,
        .tomselect .ts-dropdown .option i {
            font-size: 1rem;
        }
        
        /* Rounded Dropdown */
        .tomselect .ts-dropdown {
            border-radius: 8px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            overflow: hidden;
        }
        </style>
   </section> 